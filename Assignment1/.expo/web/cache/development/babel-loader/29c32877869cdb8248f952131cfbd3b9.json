{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { ListView } from \"react-native-web/dist/index\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Home(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState([1]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentPage = _useState4[0],\n      setCurrentPage = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      indicator = _useState6[0],\n      setIndicator = _useState6[1];\n\n  useEffect(function () {\n    console.log(process.env);\n    fetchMovies();\n  }, []);\n\n  function fetchMovies() {\n    fetch(\"https://api.themoviedb.org/3/movie/popular?api_key=3948d77682e5858510c087b43a9399c6&language=en-US&page=1\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setData(data.results);\n    });\n  }\n\n  var renderLoader = function renderLoader() {\n    return _jsx(View, {\n      style: styles.styleLoader,\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"red\"\n      })\n    });\n  };\n\n  var loadMoreItem = function loadMoreItem() {\n    setCurrentPage(currentPage + 1);\n  };\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Image, {\n        style: styles.itemImagesStyle,\n        source: {\n          uri: \"https://image.tmdb.org/t/p/original\" + item.poster_path\n        }\n      }), _jsx(Item, {\n        navigation: navigation,\n        movieId: item.id,\n        title: item.title\n      })]\n    });\n  };\n\n  render();\n  {\n    return _jsx(View, {\n      style: styles.container,\n      children: _jsx(FlatList, {\n        data: data,\n        renderItem: renderItem,\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        }\n      })\n    });\n  }\n}\n\nvar Item = function Item(_ref3) {\n  var navigation = _ref3.navigation,\n      title = _ref3.title,\n      movieId = _ref3.movieId;\n  return _jsx(View, {\n    style: styles.item,\n    children: _jsx(Text, {\n      onPress: function onPress() {\n        return navigation.navigate(\"Details\", {\n          movieId: movieId\n        });\n      },\n      style: styles.title,\n      children: title\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    justifyContent: \"center\"\n  },\n  itemImagesStyle: {\n    width: 100,\n    height: 100,\n    marginRight: 16\n  },\n  styleLoader: {\n    marginVertical: 16,\n    alignItems: \"center\"\n  },\n  item: {\n    backgroundColor: \"#C2CAFFFF\",\n    padding: 12,\n    marginVertical: 8,\n    marginHorizontal: 12\n  },\n  title: {\n    fontSize: 32\n  },\n  container1: {\n    flex: 1,\n    justifyContent: \"center\"\n  },\n  horizontal: {\n    flexDirection: \"row\",\n    justifyContent: \"space-around\",\n    padding: 10\n  }\n});","map":{"version":3,"names":["useEffect","useState","ListView","Home","navigation","data","setData","currentPage","setCurrentPage","indicator","setIndicator","console","log","process","env","fetchMovies","fetch","then","response","json","results","renderLoader","styles","styleLoader","loadMoreItem","renderItem","item","container","itemImagesStyle","uri","poster_path","id","title","render","Item","movieId","navigate","StyleSheet","create","flex","backgroundColor","justifyContent","width","height","marginRight","marginVertical","alignItems","padding","marginHorizontal","fontSize","container1","horizontal","flexDirection"],"sources":["C:/Users/jakub/Skrivebord/semester5/DMobile Software Development/Assignments/AwesomeProject/Home.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport {View, Text, StyleSheet, Image, ActivityIndicator, ListView} from \"react-native\";\r\nimport { FlatList } from \"react-native-web\";\r\n\r\n// Default component that will get called by app.js\r\n// Prop \"navigation\" is added through app.js when using navigation component.\r\nexport default function Home({ navigation }) {\r\n  // A state holding all the movie data.\r\n  const [data, setData] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState([1]);\r\n\r\n    const [indicator, setIndicator] = useState(false);\r\n  // Fetch movie list when component is mounted\r\n  useEffect(() => {\r\n    console.log(process.env);\r\n    fetchMovies();\r\n  }, []);\r\n\r\n  // Function to fetch movie list\r\n  function fetchMovies() {\r\n    //https://api.themoviedb.org/3/movie/popular?api_key=3948d77682e5858510c087b43a9399c6&language=en-US&page=1\r\n    fetch(`https://api.themoviedb.org/3/movie/popular?api_key=3948d77682e5858510c087b43a9399c6&language=en-US&page=1`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => setData(data.results));\r\n  }\r\n    const renderLoader = () => {\r\n        return(\r\n            <View style={styles.styleLoader}>\r\n                <ActivityIndicator size=\"large\" color=\"red\"/>\r\n            </View>\r\n        );\r\n    };\r\n    const loadMoreItem = () => {\r\n        setCurrentPage(currentPage+1);\r\n\r\n    };\r\n  // Render function that returns the Item component\r\n  const renderItem = ({ item }) => {\r\n    return(\r\n        <View style={styles.container}>\r\n            <Image style={styles.itemImagesStyle}  source={{ uri: `https://image.tmdb.org/t/p/original${item.poster_path}`,}}/>\r\n          <Item navigation={navigation} movieId={item.id} title={item.title} />\r\n        </View>\r\n\r\n    );\r\n\r\n  }\r\n  // returns a flatlist because we only need to render what the user can see.\r\n  // Else it would be too heavy when we load alot of movies.\r\n    render()\r\n    {\r\n        return (\r\n            <View style={styles.container}>\r\n                <FlatList\r\n                    data={data}\r\n                    renderItem={renderItem}\r\n                    keyExtractor={(item) => item.id}\r\n                    /*  ListFooterComponent={renderLoader}\r\n                      onEndReached={loadMoreItem}*/\r\n\r\n                />\r\n\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nconst Item = ({ navigation, title, movieId }) => (\r\n  <View style={styles.item}>\r\n    <Text\r\n\r\n      onPress={() =>\r\n        navigation.navigate(\"Details\", {\r\n          movieId,\r\n        })\r\n      }\r\n      style={styles.title}\r\n\r\n    >\r\n      {title}\r\n\r\n    </Text>\r\n\r\n  </View>\r\n);\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#fff\",\r\n    justifyContent: \"center\",\r\n  },\r\n  itemImagesStyle:{\r\n    width:100,\r\n    height:100,\r\n    marginRight:16,\r\n\r\n  },\r\n    styleLoader:{\r\n        marginVertical:16,\r\n        alignItems:\"center\"\r\n    },\r\n  item: {\r\n      backgroundColor: \"#C2CAFFFF\",\r\n      padding: 12,\r\n      marginVertical: 8,\r\n      marginHorizontal: 12,\r\n  },\r\n  title: {\r\n    fontSize: 32,\r\n  },\r\n    container1: {\r\n        flex: 1,\r\n        justifyContent: \"center\"\r\n    },\r\n    horizontal: {\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-around\",\r\n        padding: 10\r\n    }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}