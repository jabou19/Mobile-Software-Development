{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  useEffect(function () {\n    console.log(process.env);\n    fetchMovies();\n  }, []);\n\n  function fetchMovies() {\n    fetch(\"https://api.themoviedb.org/3/movie/popular?api_key=\" + process.env.API_KEY + \"&language=en-US&page=1\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return setData(data.results);\n    });\n  }\n\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(Item, {\n      navigation: navigation,\n      movieId: item.id,\n      title: item.title\n    });\n  };\n\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(FlatList, {\n      data: data,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })\n  });\n}\n\nvar Item = function Item(_ref3) {\n  var navigation = _ref3.navigation,\n      title = _ref3.title,\n      movieId = _ref3.movieId;\n  return _jsx(View, {\n    style: styles.item,\n    children: _jsx(Text, {\n      onPress: function onPress() {\n        return navigation.navigate(\"Details\", {\n          movieId: movieId\n        });\n      },\n      style: styles.title,\n      children: title\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    justifyContent: \"center\"\n  },\n  item: {\n    backgroundColor: \"#EEE\",\n    padding: 20,\n    marginVertical: 8,\n    marginHorizontal: 16\n  },\n  title: {\n    fontSize: 32\n  }\n});","map":{"version":3,"names":["useEffect","useState","HomeScreen","navigation","data","setData","console","log","process","env","fetchMovies","fetch","API_KEY","then","response","json","results","renderItem","item","id","title","styles","container","Item","movieId","navigate","StyleSheet","create","flex","backgroundColor","justifyContent","padding","marginVertical","marginHorizontal","fontSize"],"sources":["C:/Users/jakub/Skrivebord/semester5/DMobile Software Development/Assignments/AwesomeProject/HomeScreen.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { View, Text,FlatList, StyleSheet } from \"react-native\";\r\n/*import { FlatList } from \"react-native-web\";*/\r\n\r\n// Default component that will get called by app.js\r\n// Prop \"navigation\" is added through app.js when using navigation component.\r\nexport default function HomeScreen({ navigation }) {\r\n  // A state holding all the movie data.\r\n  const [data, setData] = useState([]);\r\n\r\n  // Fetch movie list when component is mounted\r\n  useEffect(() => {\r\n    console.log(process.env);\r\n    fetchMovies();\r\n  }, []);\r\n\r\n  // Function to fetch movie list\r\n  function fetchMovies() {\r\n    //https://api.themoviedb.org/3/movie/popular?api_key=3948d77682e5858510c087b43a9399c6&language=en-US&page=1\r\n    fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${process.env.API_KEY}&language=en-US&page=1`\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => setData(data.results));\r\n  }\r\n\r\n  // Render function that returns the Item component\r\n  const renderItem = ({ item }) => (\r\n    <Item navigation={navigation} movieId={item.id} title={item.title} />\r\n  );\r\n\r\n  // returns a flatlist because we only need to render what the user can see.\r\n  // Else it would be too heavy when we load alot of movies.\r\n  return (\r\n    <View style={styles.container}>\r\n      <FlatList\r\n        data={data}\r\n        renderItem={renderItem}\r\n        keyExtractor={(item) => item.id}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst Item = ({ navigation, title, movieId }) => (\r\n  <View style={styles.item}>\r\n    <Text\r\n      onPress={() =>\r\n        navigation.navigate(\"Details\", {\r\n          movieId,\r\n        })\r\n      }\r\n      style={styles.title}\r\n    >\r\n      {title}\r\n    </Text>\r\n  </View>\r\n);\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"#fff\",\r\n    justifyContent: \"center\",\r\n  },\r\n  item: {\r\n    backgroundColor: \"#EEE\",\r\n    padding: 20,\r\n    marginVertical: 8,\r\n    marginHorizontal: 16,\r\n  },\r\n  title: {\r\n    fontSize: 32,\r\n  },\r\n});\r\n"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;;;;AAMA,eAAe,SAASC,UAAT,OAAoC;EAAA,IAAdC,UAAc,QAAdA,UAAc;;EAEjD,gBAAwBF,QAAQ,CAAC,EAAD,CAAhC;EAAA;EAAA,IAAOG,IAAP;EAAA,IAAaC,OAAb;;EAGAL,SAAS,CAAC,YAAM;IACdM,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAApB;IACAC,WAAW;EACZ,CAHQ,EAGN,EAHM,CAAT;;EAMA,SAASA,WAAT,GAAuB;IAErBC,KAAK,yDAAuDH,OAAO,CAACC,GAAR,CAAYG,OAAnE,4BAAL,CAEGC,IAFH,CAEQ,UAACC,QAAD;MAAA,OAAcA,QAAQ,CAACC,IAAT,EAAd;IAAA,CAFR,EAGGF,IAHH,CAGQ,UAACT,IAAD;MAAA,OAAUC,OAAO,CAACD,IAAI,CAACY,OAAN,CAAjB;IAAA,CAHR;EAID;;EAGD,IAAMC,UAAU,GAAG,SAAbA,UAAa;IAAA,IAAGC,IAAH,SAAGA,IAAH;IAAA,OACjB,KAAC,IAAD;MAAM,UAAU,EAAEf,UAAlB;MAA8B,OAAO,EAAEe,IAAI,CAACC,EAA5C;MAAgD,KAAK,EAAED,IAAI,CAACE;IAA5D,EADiB;EAAA,CAAnB;;EAMA,OACE,KAAC,IAAD;IAAM,KAAK,EAAEC,MAAM,CAACC,SAApB;IAAA,UACE,KAAC,QAAD;MACE,IAAI,EAAElB,IADR;MAEE,UAAU,EAAEa,UAFd;MAGE,YAAY,EAAE,sBAACC,IAAD;QAAA,OAAUA,IAAI,CAACC,EAAf;MAAA;IAHhB;EADF,EADF;AASD;;AAED,IAAMI,IAAI,GAAG,SAAPA,IAAO;EAAA,IAAGpB,UAAH,SAAGA,UAAH;EAAA,IAAeiB,KAAf,SAAeA,KAAf;EAAA,IAAsBI,OAAtB,SAAsBA,OAAtB;EAAA,OACX,KAAC,IAAD;IAAM,KAAK,EAAEH,MAAM,CAACH,IAApB;IAAA,UACE,KAAC,IAAD;MACE,OAAO,EAAE;QAAA,OACPf,UAAU,CAACsB,QAAX,CAAoB,SAApB,EAA+B;UAC7BD,OAAO,EAAPA;QAD6B,CAA/B,CADO;MAAA,CADX;MAME,KAAK,EAAEH,MAAM,CAACD,KANhB;MAAA,UAQGA;IARH;EADF,EADW;AAAA,CAAb;;AAeA,IAAMC,MAAM,GAAGK,UAAU,CAACC,MAAX,CAAkB;EAC/BL,SAAS,EAAE;IACTM,IAAI,EAAE,CADG;IAETC,eAAe,EAAE,MAFR;IAGTC,cAAc,EAAE;EAHP,CADoB;EAM/BZ,IAAI,EAAE;IACJW,eAAe,EAAE,MADb;IAEJE,OAAO,EAAE,EAFL;IAGJC,cAAc,EAAE,CAHZ;IAIJC,gBAAgB,EAAE;EAJd,CANyB;EAY/Bb,KAAK,EAAE;IACLc,QAAQ,EAAE;EADL;AAZwB,CAAlB,CAAf"},"metadata":{},"sourceType":"module"}